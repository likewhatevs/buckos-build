load("//defs:package.bzl", "package")

# OpenSBI requires RISC-V cross-compiler (riscv64-linux-gnu-gcc)
# Disabled on x86_64 host - needs cross-compilation toolchain
# Error: gcc: error: unrecognized argument in option '-mcmodel=medany'

package(
    name = "opensbi",
    build_rule = "autotools",
    version = "1.2",
    url = "https://github.com/riscv-software-src/opensbi/archive/refs/tags/v1.2.tar.gz",
    sha256 = "8fcbce598a73acc2c7f7d5607d46b9d5107d3ecbede8f68f42631dcfc25ef2b2",
    description = "RISC-V Open Source Supervisor Binary Interface (requires RISC-V cross-compiler)",
    homepage = "https://github.com/riscv-software-src/opensbi",
    license = "BSD-2-Clause",
    deps = [],
    make_args = [],
    visibility = ["PUBLIC"],
)
