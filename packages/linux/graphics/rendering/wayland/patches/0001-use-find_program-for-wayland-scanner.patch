From: BuckOS <buckos@example.com>
Subject: [PATCH] Use find_program for wayland-scanner instead of pkg-config dependency

When building with -Dscanner=false, meson looks for wayland-scanner
via pkg-config dependency. In our build environment, wayland-scanner
is available in PATH but the pkg-config file has incorrect prefix paths.
Use find_program directly instead.

diff --git a/src/meson.build b/src/meson.build
index aaaaaaa..bbbbbbb 100644
--- a/src/meson.build
+++ b/src/meson.build
@@ -79,9 +79,9 @@ if get_option('scanner')
 endif

 if meson.is_cross_build() or not get_option('scanner')
-	scanner_dep = dependency('wayland-scanner', native: true, version: meson.project_version())
-	wayland_scanner_for_build = find_program(scanner_dep.get_variable(pkgconfig: 'wayland_scanner'))
+	# Patched: use find_program directly since wayland-scanner is in PATH
+	wayland_scanner_for_build = find_program('wayland-scanner', native: true)
 else
 	wayland_scanner_for_build = wayland_scanner
 endif
