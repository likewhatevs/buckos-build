load("//defs:package.bzl", "package")

# wayland-protocols - Wayland protocol extension files
# These are XML protocol definitions that get compiled by wayland-scanner
# into C header files and source code.

package(
    build_rule = "meson",
    name = "wayland-protocols",
    version = "1.43",
    url = "https://gitlab.freedesktop.org/wayland/wayland-protocols/-/releases/1.43/downloads/wayland-protocols-1.43.tar.xz",
    sha256 = "ba3c3425dd27c57b5291e93dba97be12479601e00bcab24d26471948cb643653",
    description = "Wayland protocol extension definitions",
    homepage = "https://gitlab.freedesktop.org/wayland/wayland-protocols",
    license = "MIT",
    deps = [
        "//packages/linux/graphics/rendering/wayland:wayland",
                "//packages/linux/system/libs/utility/libffi:libffi",
                "//packages/linux/graphics/rendering/wayland:wayland-scanner"
    ],
    # wayland-scanner runs on the build machine during meson configure
    configure_args = [
        "-Dtests=false",
    ],
    # Set up environment to find native wayland-scanner
    visibility = ["PUBLIC"],
)
