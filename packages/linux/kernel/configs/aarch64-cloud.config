#
# BuckOS Kernel ARM64 Cloud Configuration Fragment
# Drivers for AWS Graviton, Azure Ampere, and other cloud ARM64 instances
#

# NVMe storage (common on cloud instances)
CONFIG_NVME_CORE=y
CONFIG_BLK_DEV_NVME=y
CONFIG_NVME_MULTIPATH=y
CONFIG_NVME_HWMON=y

# AWS Graviton / ENA driver
CONFIG_NET_VENDOR_AMAZON=y
CONFIG_ENA_ETHERNET=y

# Azure Hyper-V support for ARM64
CONFIG_HYPERV=y
CONFIG_HYPERV_NET=y
CONFIG_HYPERV_STORAGE=y
CONFIG_HID_HYPERV_MOUSE=y
CONFIG_HYPERV_KEYBOARD=y
CONFIG_HYPERV_UTILS=y
CONFIG_HYPERV_BALLOON=y

# GICv3/v4 interrupt controller (required for modern ARM servers)
CONFIG_ARM_GIC_V3=y
CONFIG_ARM_GIC_V3_ITS=y

# ARM SBSA Watchdog
CONFIG_ARM_SBSA_WATCHDOG=y

# SMMU (IOMMU for ARM)
CONFIG_ARM_SMMU=y
CONFIG_ARM_SMMU_V3=y
CONFIG_IOMMU_DEFAULT_DMA_LAZY=y

# ARM PSCI (Power State Coordination Interface)
CONFIG_ARM_PSCI_FW=y
CONFIG_ARM_PSCI_CPUIDLE=y
CONFIG_ARM_PSCI_CHECKER=y

# ARM PMU (Performance Monitoring Unit)
CONFIG_ARM_PMU=y
CONFIG_ARM_PMU_ACPI=y
CONFIG_PERF_EVENTS=y

# RAS (Reliability, Availability, Serviceability)
CONFIG_RAS=y
CONFIG_ARM64_RAS_EXTN=y
CONFIG_ARM_SPE_PMU=y

# Additional networking for cloud
CONFIG_VETH=y
CONFIG_MACVLAN=y
CONFIG_IPVLAN=y
CONFIG_VXLAN=y
CONFIG_GENEVE=y

# SR-IOV support
CONFIG_PCI_IOV=y

# RTC support
CONFIG_RTC_CLASS=y
CONFIG_RTC_DRV_PL031=y
CONFIG_RTC_DRV_EFI=y

# Temperature monitoring
CONFIG_THERMAL=y
CONFIG_THERMAL_OF=y
CONFIG_CPU_THERMAL=y
CONFIG_THERMAL_GOV_STEP_WISE=y
CONFIG_THERMAL_GOV_POWER_ALLOCATOR=y

# Watchdog
CONFIG_WATCHDOG=y
CONFIG_WATCHDOG_CORE=y

# GPIO support
CONFIG_GPIOLIB=y
CONFIG_GPIO_PL061=y
CONFIG_GPIO_GENERIC_PLATFORM=y
