load("@root//defs:package_defs.bzl", "python_package")

python_package(
    name = "cosyvoice",
    version = "0.1.0",
    src_uri = "https://github.com/FunAudioLLM/CosyVoice/archive/refs/heads/main.tar.gz",
    sha256 = "fd7dcb2409a7f1af6a6bb664c9969ca5c346f2ef971c6c523977aa0e10837f16",
    deps = [
        "ai//ml-frameworks/pytorch:pytorch",
        "ai//ml-frameworks/torchaudio:torchaudio",
        "ai//nlp/transformers:transformers",
        "ai//audio/librosa:librosa",
        "ai//audio/soundfile:soundfile",
        "ai//audio/openai-whisper:openai-whisper",
        "ai//audio/pyworld:pyworld",
        "ai//ml-frameworks/lightning:lightning",
        "ai//ml-frameworks/deepspeed:deepspeed",
        "ai//ml-frameworks/tensorboard:tensorboard",
        "ai//ml-frameworks/diffusers:diffusers",
        "ai//inference/onnx:onnx",
        "ai//inference/onnxruntime:onnxruntime",
        "network//http/fastapi:fastapi",
        "network//http/uvicorn:uvicorn",
        "dev-libs//python/gradio:gradio",
        "dev-libs//python/pydantic:pydantic",
        "dev-libs//python/hydra-core:hydra-core",
        "dev-libs//python/omegaconf:omegaconf",
        "dev-libs//python/hyperpyyaml:hyperpyyaml",
        "dev-libs//python/rich:rich",
        "dev-libs//python/inflect:inflect",
        "dev-libs//python/pyarrow:pyarrow",
        "dev-libs//python/networkx:networkx",
        "dev-libs//python/matplotlib:matplotlib",
        "ai//nlp/modelscope:modelscope",
        "ai//audio/conformer:conformer",
        "dev-libs//serialization/protobuf:protobuf",
    ],
    maintainers = ["buckos"],
)
