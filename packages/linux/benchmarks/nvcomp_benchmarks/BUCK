load("//defs:package.bzl", "package")

package(
    build_rule = "cmake",
    name = "nvcomp_benchmarks",
    version = "3.0.1",
    url = "https://github.com/NVIDIA/nvcomp/archive/refs/tags/v3.0.1.tar.gz",
    sha256 = "1c2ed090ad19dddbad7778943e2b329bf037707ee515a91502a74a948d322607",
    configure_args = [
        "-DBUILD_BENCHMARKS=ON",
        "-DCMAKE_CUDA_ARCHITECTURES=70;75;80;86;89;90",
    ],
    deps = [
        "//packages/linux/dev-libs/cuda/nvcomp:nvcomp",
        "//packages/linux/system/gpu/libraries/cuda-toolkit:cuda-toolkit",
        "//packages/linux/dev-libs/compression/zlib:zlib",
    ],
    labels = ["buckos:hw:cuda"],
)
