load("//defs:package.bzl", "package")

# libnma - NetworkManager UI library
package(
    build_rule = "meson",
    name = "libnma",
    version = "1.10.6",
    url = "https://download.gnome.org/sources/libnma/1.10/libnma-1.10.6.tar.xz",
    sha256 = "53a6fb2b190ad37c5986caed3e98bede7c3c602399ee4f93c8fc054303d76dab",
    description = "NetworkManager GUI library",
    homepage = "https://gitlab.gnome.org/GNOME/libnma",
    license = "LGPL-2.1+",
    configure_args = [
        "-Dgtk_doc=false",
        "-Dintrospection=false",
        "-Dvapi=false",
        "-Dmobile_broadband_provider_info=false",
        "-Diso_codes=false",
        "-Dgcr=false",
        "-Dlibnma_gtk4=false",
    ],
    deps = [
        "//packages/linux/network/networkmanager:networkmanager",
        "//packages/linux/desktop/gtk:gtk3",
        "//packages/linux/dev-libs/glib:glib",
        "//packages/linux/system/libs/utility/pcre2:pcre2",
        "//packages/linux/system/libs/utility/libffi:libffi",
        "//packages/linux/core/zlib:zlib",
        # GTK3 full transitive deps for pkg-config
        "//packages/linux/system/libs/graphics/cairo:cairo",
        "//packages/linux/system/security/auth/biometric:pixman",
        "//packages/linux/system/libs/font/fontconfig:fontconfig",
        "//packages/linux/system/libs/data/expat:expat",
        "//packages/linux/system/libs/image/libpng:libpng",
        "//packages/linux/graphics/xorg/libX11:libX11",
        "//packages/linux/graphics/xorg/libXext:libXext",
        "//packages/linux/graphics/xorg/libXrender:libXrender",
        "//packages/linux/graphics/xorg/libXrandr:libXrandr",
        "//packages/linux/graphics/xorg/libXi:libXi",
        "//packages/linux/graphics/xorg/libXfixes:libXfixes",
        "//packages/linux/graphics/xorg/libXcursor:libXcursor",
        "//packages/linux/graphics/xorg/libXdamage:libXdamage",
        "//packages/linux/graphics/xorg/libXcomposite:libXcomposite",
        "//packages/linux/graphics/xorg/libXinerama:libXinerama",
        "//packages/linux/graphics/xorg/xorgproto:xorgproto",
        "//packages/linux/graphics/xorg/libxcb:libxcb",
        "//packages/linux/graphics/xorg/xcb-proto:xcb-proto",
        "//packages/linux/graphics/xorg/libXau:libXau",
        "//packages/linux/graphics/xorg/libXdmcp:libXdmcp",
        "//packages/linux/system/libs/compression/brotli:brotli",
        "//packages/linux/system/libs/compression/bzip2:bzip2",
        "//packages/linux/system/libs/font/fribidi:fribidi",
        "//packages/linux/system/libs/font/harfbuzz:harfbuzz",
        "//packages/linux/desktop/shared-mime-info:shared-mime-info",
        "//packages/linux/system/libs/data/libxml2:libxml2",
        "//packages/linux/system/libs/image/libjpeg-turbo:libjpeg-turbo",
        "//packages/linux/system/libs/image/libtiff:libtiff",
        "//packages/linux/graphics/libepoxy:libepoxy",
        "//packages/linux/desktop/mesa:mesa",
        "//packages/linux/desktop/at-spi2-core:at-spi2-core",
        "//packages/linux/graphics/xorg/libXtst:libXtst",
        "//packages/linux/system/libs/ipc/dbus:dbus",
        "//packages/linux/system/init/systemd:systemd",
        "//packages/linux/system/security/capabilities:libcap",
        "//packages/linux/system/libs/input/libxkbcommon:libxkbcommon",
        "//packages/linux/graphics/rendering/wayland:wayland",
        "//packages/linux/graphics/rendering/wayland-protocols:wayland-protocols",
        "//packages/linux/system/libs/font/freetype:freetype",
        "//packages/linux/fonts/libraries/pango:pango",
        "//packages/linux/desktop/gdk-pixbuf:gdk-pixbuf",
        # NetworkManager crypto deps
        "//packages/linux/system/libs/crypto/gnutls:gnutls",
        "//packages/linux/system/libs/crypto/nettle:nettle",
        "//packages/linux/system/libs/utility/gmp:gmp",
        "//packages/linux/system/libs/compression/zstd:zstd",
    ],
)
