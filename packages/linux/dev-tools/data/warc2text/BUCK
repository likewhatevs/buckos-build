load("//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "warc2text",
    version = "1.0.0",
    src_uri = "https://github.com/bitextor/warc2text/archive/refs/heads/master.tar.gz",
    sha256 = "f04df11ec339493061abc425701dc20e16d2a51972543834144232d711d299b2",
    cmake_args = [
        "-DCMAKE_CXX_STANDARD=17",
        "-DCMAKE_BUILD_TYPE=Release",
        "-DSKIP_PREPROCESS_BUILD=ON",
        "-DJSON_BuildTests=OFF",
    ],
    deps = [
        "//packages/linux/dev-libs/boost:boost",
        "//packages/linux/dev-libs/text/cld2:cld2",
        "//packages/linux/ai/nlp/fasttext:fasttext",
        "//packages/linux/dev-tools/parsers/flex:flex",
        "//packages/linux/dev-libs/xml/libxslt:libxslt",
        "//packages/linux/dev-libs/json/nlohmann-json:nlohmann-json",
        "//packages/linux/dev-libs/text/re2:re2",
    ],
)
