load("//defs:package.bzl", "package")

# kdevelop - KDE integrated development environment (cmake build)
# USE flags: plasma, git, subversion, test
# Default: plasma, git

package(
    build_rule = "cmake",
    name = "kdevelop",
    version = "24.08.3",
    use_configure = {
        "gdbui": ("-DENABLE_GDBUI=ON", "-DENABLE_GDBUI=OFF"),
        "hex": ("-DENABLE_HEX=ON", "-DENABLE_HEX=OFF"),
        "plasma": ("-DENABLE_PLASMA=ON", "-DENABLE_PLASMA=OFF"),
        "qmake": ("-DENABLE_QMAKE=ON", "-DENABLE_QMAKE=OFF"),
        "share": ("-DENABLE_SHARE=ON", "-DENABLE_SHARE=OFF"),
        "subversion": ("-DENABLE_SUBVERSION=ON", "-DENABLE_SUBVERSION=OFF"),
    },
    url = "https://download.kde.org/stable/release-service/24.08.3/src/kdevelop-24.08.3.tar.xz",
    sha256 = "a1690c9672e08064510e4d9c422a214b6d11a54cea5656e29c9445701af4cf71",
    description = "KDE integrated development environment",
    homepage = "https://www.kdevelop.org",
    license = "GPL-2+",
    configure_args = [
        "-DCMAKE_INSTALL_PREFIX=/usr",
        "-DCMAKE_BUILD_TYPE=Release",
    ],
    deps = [
        "//packages/linux/desktop/kde:kde-plasma",
    ],
)
