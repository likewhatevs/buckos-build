load("//defs:package_defs.bzl", "go_package")

# NOTE: Googlesource archives can have dynamic content even for tagged releases.
# Source archived at mirror.buckos.org for reproducible builds.
# Downloaded 2026-01-18 from: https://chromium.googlesource.com/infra/goma/server/+archive/v0.0.16.tar.gz
go_package(
    name = "goma-server",
    version = "0.0.16",
    src_uri = "https://mirror.buckos.org/g/goma-server-v0.0.16.tar.gz",
    sha256 = "6bb4ec895e6ff64e9b0cb4f43ffd435467ff43212481227a83e24481ba881ead",
    bins = [
        "auth_server",
        "cache_server",
        "execlog_server",
        "exec_server",
        "file_server",
        "frontend",
        "goma_grpc_client",
        "goma_replay",
        "remoteexec_proxy",
    ],
    packages = [
        "./cmd/auth_server",
        "./cmd/cache_server",
        "./cmd/execlog_server",
        "./cmd/exec_server",
        "./cmd/file_server",
        "./cmd/frontend",
        "./cmd/goma_grpc_client",
        "./cmd/goma_replay",
        "./cmd/remoteexec_proxy",
    ],
    description = "Goma distributed compilation server",
    homepage = "https://chromium.googlesource.com/infra/goma/server",
    license = "BSD-3-Clause",
    visibility = ["PUBLIC"],
)
