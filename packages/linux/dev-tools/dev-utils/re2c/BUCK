load("@root//defs:package_defs.bzl", "download_source", "autotools_package")
load("@root//defs:use_flags.bzl", "set_use_flags")

autotools_package(
    name = "re2c",
    # GitHub releases/download tarball includes pre-generated configure script
    bdepend = [],
    src_prepare = "",
    version = "3.1",
    src_uri = "https://github.com/skvadrik/re2c/releases/download/3.1/re2c-3.1.tar.xz",
    sha256 = "0ac299ad359e3f512b06a99397d025cfff81d3be34464ded0656f8a96676c029",
    signature_required = False,
    description = "Lexer generator for C/C++ and Go",
    homepage = "https://re2c.org/",
    license = "public-domain",

    iuse = ["debug", "doc"],
    use_defaults = [],
    use_configure = {
        "-debug": "--disable-debug",
        "-doc": "--disable-docs",
        "debug": "--enable-debug",
        "doc": "--enable-docs",
    },

    visibility = ["PUBLIC"],
)
