load("//defs:package_defs.bzl", "cmake_package", "download_source")

cmake_package(
    name = "encfs",
    src_uri = "https://github.com/vgough/encfs/releases/download/v1.9.5/encfs-1.9.5.tar.gz",

    sha256 = "4709f05395ccbad6c0a5b40a4619d60aafe3473b1a79bafb3aa700b1f756fd63",

    signature_sha256 = "b0d4dcf25b78163b7a58e16f12d8ac72aa2723712895e0778d6f06606b516f1f",
    iuse = ["nls"],
    use_cmake = {
        "-nls": "-DENABLE_NLS=OFF",
        "nls": "-DENABLE_NLS=ON",
    },
    version = "1.9.5",
    description = "FUSE-based encrypted filesystem",
    homepage = "https://vgough.github.io/encfs/",
    license = "GPL-3.0",
    cmake_args = [],
    deps = [
        "//packages/linux/system/security/encryption:fuse3",
        "//packages/linux/system/libs/crypto/openssl:openssl",
    ],
    visibility = ["PUBLIC"],
)
