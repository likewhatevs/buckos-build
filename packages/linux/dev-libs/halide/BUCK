load("//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "halide",
    version = "18.0.0",
    src_uri = "https://github.com/halide/Halide/archive/refs/tags/v18.0.0.tar.gz",
    sha256 = "1176b42a3e2374ab38555d9316c78e39b157044b5a8e765c748bf3afd2edb351",
    signature_required = False,
    description = "Language for fast portable data-parallel computation",
    homepage = "https://halide-lang.org/",
    license = "MIT",
    cmake_args = [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DWITH_TESTS=OFF",
        "-DWITH_TUTORIALS=OFF",
        "-DWITH_DOCS=OFF",
        "-DWITH_PYTHON_BINDINGS=OFF",
        "-DHALIDE_ENABLE_RTTI=ON",
    ],
    deps = [
        "//packages/linux/core/llvm:llvm",
        "//packages/linux/core/zlib:zlib",
    ],
    visibility = ["PUBLIC"],
)
