load("//defs:package.bzl", "package")

package(
    build_rule = "binary",
    name = "korte-jvm",
    version = "4.0.10",
    url = "https://github.com/korlibs/korge/archive/refs/tags/v4.0.10.tar.gz",
    sha256 = "ffa815e1586434a93e21b35cc4de6b194f0c96ed371c37ac220600c0f90c6a25",
    description = "Korte - Kotlin Template Engine for JVM",
    homepage = "https://korlibs.soywiz.com/",
    license = "MIT",
    install_script = """
        mkdir -p $OUT/usr/share/java
        cp $SRCS/*.jar $OUT/usr/share/java/korte-jvm.jar 2>/dev/null || \
        cp $SRCS/korte-jvm-*.jar $OUT/usr/share/java/korte-jvm.jar 2>/dev/null || \
        find $SRCS -name "*.jar" -exec cp {} $OUT/usr/share/java/korte-jvm.jar \;
    """,
)
