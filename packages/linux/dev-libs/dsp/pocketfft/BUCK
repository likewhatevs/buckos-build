load("@root//defs:package_defs.bzl", "simple_package")

# PocketFFT - Fast Fourier Transform library (header-only)

simple_package(
    name = "pocketfft",
    version = "release_for_eigen",
    src_uri = "https://github.com/mreineck/pocketfft/archive/refs/tags/release_for_eigen.tar.gz",
    sha256 = "e8e495811077109198b2653f0c85fd34defa5b6a21551a538465445118bb7f7b",
    description = "Fast Fourier Transform header-only C++ library",
    homepage = "https://github.com/mreineck/pocketfft",
    license = "BSD-3-Clause",
    deps = [],
    src_configure = "true",
    src_compile = "true",
    src_install = """
        mkdir -p "${DESTDIR}/usr/include/pocketfft"
        cp pocketfft_hdronly.h "${DESTDIR}/usr/include/pocketfft/"
        cp pocketfft_hdronly.h "${DESTDIR}/usr/include/pocketfft_hdronly.h"
    """,
    visibility = ["PUBLIC"],
)
