load("@root//defs:package_defs.bzl", "download_source", "cmake_package")

# =============================================================================
# expat - XML parsing library
# =============================================================================
# Fast, non-validating XML parser library written in C.

download_source(
    name = "expat-src",
    src_uri = "https://github.com/libexpat/libexpat/releases/download/R_2_6_4/expat-2.6.4.tar.xz",
    sha256 = "a695629dae047055b37d50a0ff4776d1d45d0a4c842cf4ccee158441f55ff7ee",
    signature_required = False,
)

cmake_package(
    name = "expat",
    source = ":expat-src",
    version = "2.6.4",
    description = "XML parsing C library",
    homepage = "https://libexpat.github.io/",
    license = "MIT",
    cmake_args = [
        "-DEXPAT_BUILD_DOCS=OFF",
        "-DEXPAT_BUILD_EXAMPLES=OFF",
        "-DEXPAT_BUILD_TESTS=OFF",
        "-DEXPAT_SHARED_LIBS=ON",
    ],
    visibility = ["PUBLIC"],
)
