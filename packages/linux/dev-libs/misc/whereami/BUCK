load("//defs:package.bzl", "package")

package(
    build_rule = "binary",
    name = "whereami",
    version = "2024.01",
    url = "https://github.com/gpakosz/whereami/archive/refs/heads/master.tar.gz",
    sha256 = "bca1e0381b7aefa55009aab587b160d4812687c5ecf6bb43c72c1ad61d910229",
    description = "Locate the current executable and module on the file system",
    homepage = "https://github.com/gpakosz/whereami",
    license = "MIT",
    install_script = """
        mkdir -p $OUT/usr/include/whereami
        cp $SRCS/src/whereami.h $OUT/usr/include/whereami/
        cp $SRCS/src/whereami.h $OUT/usr/include/
        cp $SRCS/src/whereami.c $OUT/usr/include/whereami/
    """,
    deps = [],
    visibility = ["PUBLIC"],
)
