load("//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "abseil-cpp",
    version = "20240722.0",
    iuse = ["debug", "test-helpers"],
    use_cmake = {
        "-debug": "-DCMAKE_BUILD_TYPE=Release",
        "-test-helpers": "-DENABLE_TEST_HELPERS=OFF",
        "debug": "-DCMAKE_BUILD_TYPE=Debug",
        "test-helpers": "-DENABLE_TEST_HELPERS=ON",
    },
    src_uri = "https://github.com/abseil/abseil-cpp/archive/refs/tags/20240722.0.tar.gz",
    sha256 = "f50e5ac311a81382da7fa75b97310e4b9006474f9560ac46f54a9967f07d4ae3",
    deps = [],
    cmake_args = [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DABSL_BUILD_TESTING=OFF",
        "-DABSL_USE_EXTERNAL_GOOGLETEST=OFF",
        "-DABSL_PROPAGATE_CXX_STD=ON",
    ],
    visibility = ["PUBLIC"],
)
