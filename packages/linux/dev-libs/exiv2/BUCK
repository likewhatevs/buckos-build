load("//defs:package.bzl", "package")

# exiv2 - Image metadata library and tools
package(
    build_rule = "cmake",
    name = "exiv2",
    version = "0.28.7",
    use_configure = {
        "bmff": ("-DENABLE_BMFF=ON", "-DENABLE_BMFF=OFF"),
        "examples": ("-DBUILD_EXAMPLES=ON", "-DBUILD_EXAMPLES=OFF"),
        "jpegxl": ("-DENABLE_JPEGXL=ON", "-DENABLE_JPEGXL=OFF"),
        "nls": ("-DENABLE_NLS=ON", "-DENABLE_NLS=OFF"),
        "png": ("-DENABLE_PNG=ON", "-DENABLE_PNG=OFF"),
        "webready": ("-DENABLE_WEBREADY=ON", "-DENABLE_WEBREADY=OFF"),
        "xmp": ("-DENABLE_XMP=ON", "-DENABLE_XMP=OFF"),
    },
    url = "https://github.com/Exiv2/exiv2/archive/refs/tags/v0.28.7.tar.gz",
    sha256 = "5e292b02614dbc0cee40fe1116db2f42f63ef6b2ba430c77b614e17b8d61a638",
    description = "Image metadata library and tools",
    homepage = "https://www.exiv2.org/",
    license = "GPL-2.0-or-later",
    configure_args = [
        "-DBUILD_SHARED_LIBS=ON",
        "-DEXIV2_ENABLE_NLS=ON",
        "-DEXIV2_BUILD_SAMPLES=OFF",
    ],
    deps = [],
)
