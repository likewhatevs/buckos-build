load("@root//defs:package_defs.bzl", "cmake_package", "autotools_package")
load("@root//defs:use_flags.bzl", "set_use_flags")

# vtk - Visualization Toolkit - 3D graphics, image processing and visualization
cmake_package(
    name = "vtk",
    version = "9.3.0",
    iuse = [
        "all-modules",
        "boost",
        "cgns",
        "cuda",
        "debug",
        "examples",
        "ffmpeg",
        "gdal",
        "gles2-only",
        "imaging",
        "java",
        "logging",
        "minimal",
        "mpi",
        "mysql",
        "netcdf",
        "odbc",
        "opencascade",
        "openmp",
        "openvdb",
        "pdal",
        "postgres",
        "python",
        "qt6",
        "rendering",
        "tbb",
        "threads",
        "tk",
        "truetype",
        "video_cards_nvidia",
        "views",
        "vtkm",
        "web",
    ],
    use_cmake = {
        "-all-modules": "-DENABLE_ALL_MODULES=OFF",
        "-boost": "-DENABLE_BOOST=OFF",
        "-cgns": "-DENABLE_CGNS=OFF",
        "-cuda": "-DWITH_CUDA=OFF",
        "-debug": "-DCMAKE_BUILD_TYPE=Release",
        "-examples": "-DBUILD_EXAMPLES=OFF",
        "-ffmpeg": "-DENABLE_FFMPEG=OFF",
        "-gdal": "-DENABLE_GDAL=OFF",
        "-gles2-only": "-DENABLE_GLES2_ONLY=OFF",
        "-imaging": "-DENABLE_IMAGING=OFF",
        "-java": "-DENABLE_JAVA=OFF",
        "-logging": "-DENABLE_LOGGING=OFF",
        "-minimal": "-DENABLE_MINIMAL=OFF",
        "-mpi": "-DENABLE_MPI=OFF",
        "-mysql": "-DENABLE_MYSQL=OFF",
        "-netcdf": "-DENABLE_NETCDF=OFF",
        "-odbc": "-DENABLE_ODBC=OFF",
        "-opencascade": "-DENABLE_OPENCASCADE=OFF",
        "-openmp": "-DWITH_OPENMP=OFF",
        "-openvdb": "-DENABLE_OPENVDB=OFF",
        "-pdal": "-DENABLE_PDAL=OFF",
        "-postgres": "-DENABLE_POSTGRES=OFF",
        "-python": "-DENABLE_PYTHON=OFF",
        "-qt6": "-DENABLE_QT6=OFF",
        "-rendering": "-DENABLE_RENDERING=OFF",
        "-tbb": "-DENABLE_TBB=OFF",
        "-threads": "-DENABLE_THREADS=OFF",
        "-tk": "-DENABLE_TK=OFF",
        "-truetype": "-DENABLE_TRUETYPE=OFF",
        "-video_cards_nvidia": "-DENABLE_VIDEO_CARDS_NVIDIA=OFF",
        "-views": "-DENABLE_VIEWS=OFF",
        "-vtkm": "-DENABLE_VTKM=OFF",
        "-web": "-DENABLE_WEB=OFF",
        "all-modules": "-DENABLE_ALL_MODULES=ON",
        "boost": "-DENABLE_BOOST=ON",
        "cgns": "-DENABLE_CGNS=ON",
        "cuda": "-DWITH_CUDA=ON",
        "debug": "-DCMAKE_BUILD_TYPE=Debug",
        "examples": "-DBUILD_EXAMPLES=ON",
        "ffmpeg": "-DENABLE_FFMPEG=ON",
        "gdal": "-DENABLE_GDAL=ON",
        "gles2-only": "-DENABLE_GLES2_ONLY=ON",
        "imaging": "-DENABLE_IMAGING=ON",
        "java": "-DENABLE_JAVA=ON",
        "logging": "-DENABLE_LOGGING=ON",
        "minimal": "-DENABLE_MINIMAL=ON",
        "mpi": "-DENABLE_MPI=ON",
        "mysql": "-DENABLE_MYSQL=ON",
        "netcdf": "-DENABLE_NETCDF=ON",
        "odbc": "-DENABLE_ODBC=ON",
        "opencascade": "-DENABLE_OPENCASCADE=ON",
        "openmp": "-DWITH_OPENMP=ON",
        "openvdb": "-DENABLE_OPENVDB=ON",
        "pdal": "-DENABLE_PDAL=ON",
        "postgres": "-DENABLE_POSTGRES=ON",
        "python": "-DENABLE_PYTHON=ON",
        "qt6": "-DENABLE_QT6=ON",
        "rendering": "-DENABLE_RENDERING=ON",
        "tbb": "-DENABLE_TBB=ON",
        "threads": "-DENABLE_THREADS=ON",
        "tk": "-DENABLE_TK=ON",
        "truetype": "-DENABLE_TRUETYPE=ON",
        "video_cards_nvidia": "-DENABLE_VIDEO_CARDS_NVIDIA=ON",
        "views": "-DENABLE_VIEWS=ON",
        "vtkm": "-DENABLE_VTKM=ON",
        "web": "-DENABLE_WEB=ON",
    },
    src_uri = "https://www.vtk.org/files/release/9.3/VTK-9.3.0.tar.gz",
    sha256 = "fdc7b9295225b34e4fdddc49cd06e66e94260cb00efee456e0f66568c9681be9",
    signature_required = False,
    description = "Visualization Toolkit - 3D graphics and visualization library",
    homepage = "https://vtk.org/",
    license = "BSD-3-Clause",
    cmake_args = [
        "-DBUILD_SHARED_LIBS=ON",
        "-DVTK_BUILD_TESTING=OFF",
        "-DVTK_BUILD_EXAMPLES=OFF",
        "-DVTK_GROUP_ENABLE_Qt=NO",
        "-DVTK_GROUP_ENABLE_Rendering=YES",
        "-DVTK_GROUP_ENABLE_StandAlone=YES",
    ],
    deps = [],
    visibility = ["PUBLIC"],
)
