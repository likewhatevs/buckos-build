load("//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "seal",
    version = "3.6.6",
    src_uri = "https://github.com/microsoft/SEAL/archive/refs/tags/v3.6.6.tar.gz",
    sha256 = "85a63188a5ccc8d61b0adbb92e84af9b7223fc494d33260fa17a121433790a0e",
    cmake_args = [
        "-DSEAL_USE_CXX17=ON",
        "-DSEAL_USE_MSGSL=OFF",
        "-DSEAL_USE_ZLIB=OFF",
        "-DSEAL_USE_ZSTD=ON",
        "-DSEAL_USE_INTEL_HEXL=OFF",
        "-DSEAL_BUILD_DEPS=OFF",
        "-DBUILD_SHARED_LIBS=ON",
        "-DSEAL_BUILD_EXAMPLES=OFF",
        "-DSEAL_BUILD_TESTS=OFF",
        "-DSEAL_BUILD_BENCH=OFF",
        "-DSEAL_BUILD_SEAL_C=OFF",
    ],
    deps = [
        "//packages/linux/system/libs/compression/zstd:zstd",
    ],
)
