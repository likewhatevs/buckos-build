load("//defs:package.bzl", "package")

package(
    build_rule = "binary",
    name = "redfish-schema",
    version = "2025.1",
    url = "https://www.dmtf.org/sites/default/files/standards/documents/DSP8010_2025.1.zip",
    sha256 = "d439351cbaf794a0ca807cd6f72238b30647f31a76eb5bf2c97d27aa9b75e9f2",
    description = "DMTF Redfish JSON Schema files",
    homepage = "https://www.dmtf.org/standards/redfish",
    license = "BSD-3-Clause",
    install_script = """
        mkdir -p "$OUT/usr/share/redfish-schema"
        cp -r "$SRCS/json-schema" "$OUT/usr/share/redfish-schema/"
        cp -r "$SRCS/csdl" "$OUT/usr/share/redfish-schema/"
        cp -r "$SRCS/registries" "$OUT/usr/share/redfish-schema/"
        cp -r "$SRCS/dictionaries" "$OUT/usr/share/redfish-schema/"
    """,
    visibility = ["PUBLIC"],
)
