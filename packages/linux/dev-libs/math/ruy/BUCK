load("@root//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "ruy",
    version = "0.0.0+git20240101",
    src_uri = "https://github.com/google/ruy/archive/23633b37099b614a2f836ef012cafc8087fdb98c.tar.gz",
    sha256 = "3e5cb304ee06f7baac302a8d37775424ef13ec016508c3f95e70a9726ce585f2",
    cmake_args = [
        "-DRUY_MINIMAL_BUILD=ON",
        "-DCMAKE_CXX_STANDARD=14",
        "-DBUILD_TESTING=OFF",
    ],
    deps = [
        "//packages/linux/dev-libs/misc/cpuinfo:cpuinfo",
    ],
    visibility = ["PUBLIC"],
)
