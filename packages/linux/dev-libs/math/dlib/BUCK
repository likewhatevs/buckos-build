load("//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "dlib",
    version = "19.24.7",
    iuse = [
        "X",
        "cblas",
        "cuda",
        "debug",
        "examples",
        "ffmpeg",
        "gif",
        "jpeg",
        "lapack",
        "mkl",
        "png",
        "python",
        "sqlite",
        "webp",
    ],
    use_cmake = {
        "-X": "-DENABLE_X=OFF",
        "-cblas": "-DENABLE_CBLAS=OFF",
        "-cuda": "-DWITH_CUDA=OFF",
        "-debug": "-DCMAKE_BUILD_TYPE=Release",
        "-examples": "-DBUILD_EXAMPLES=OFF",
        "-ffmpeg": "-DENABLE_FFMPEG=OFF",
        "-gif": "-DENABLE_GIF=OFF",
        "-jpeg": "-DENABLE_JPEG=OFF",
        "-lapack": "-DENABLE_LAPACK=OFF",
        "-mkl": "-DENABLE_MKL=OFF",
        "-png": "-DENABLE_PNG=OFF",
        "-python": "-DENABLE_PYTHON=OFF",
        "-sqlite": "-DENABLE_SQLITE=OFF",
        "-webp": "-DENABLE_WEBP=OFF",
        "X": "-DENABLE_X=ON",
        "cblas": "-DENABLE_CBLAS=ON",
        "cuda": "-DWITH_CUDA=ON",
        "debug": "-DCMAKE_BUILD_TYPE=Debug",
        "examples": "-DBUILD_EXAMPLES=ON",
        "ffmpeg": "-DENABLE_FFMPEG=ON",
        "gif": "-DENABLE_GIF=ON",
        "jpeg": "-DENABLE_JPEG=ON",
        "lapack": "-DENABLE_LAPACK=ON",
        "mkl": "-DENABLE_MKL=ON",
        "png": "-DENABLE_PNG=ON",
        "python": "-DENABLE_PYTHON=ON",
        "sqlite": "-DENABLE_SQLITE=ON",
        "webp": "-DENABLE_WEBP=ON",
    },
    src_uri = "https://github.com/davisking/dlib/archive/refs/tags/v19.24.7.tar.gz",
    sha256 = "fb3213872b4755cbc75d88cdd3cf77555d353ac89bc105f7acb33bf665f4b2a7",
    deps = [],
    cmake_args = [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DDLIB_NO_GUI_SUPPORT=OFF",
        "-DDLIB_USE_CUDA=OFF",
    ],
    visibility = ["PUBLIC"],
)
