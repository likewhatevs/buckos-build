load("//defs:package.bzl", "package")

package(
    build_rule = "cmake",
    name = "dlib",
    version = "19.24.7",
    use_configure = {
        "X": ("-DENABLE_X=ON", "-DENABLE_X=OFF"),
        "cblas": ("-DENABLE_CBLAS=ON", "-DENABLE_CBLAS=OFF"),
        "cuda": ("-DWITH_CUDA=ON", "-DWITH_CUDA=OFF"),
        "debug": ("-DCMAKE_BUILD_TYPE=Debug", "-DCMAKE_BUILD_TYPE=Release"),
        "examples": ("-DBUILD_EXAMPLES=ON", "-DBUILD_EXAMPLES=OFF"),
        "ffmpeg": ("-DENABLE_FFMPEG=ON", "-DENABLE_FFMPEG=OFF"),
        "gif": ("-DENABLE_GIF=ON", "-DENABLE_GIF=OFF"),
        "jpeg": ("-DENABLE_JPEG=ON", "-DENABLE_JPEG=OFF"),
        "lapack": ("-DENABLE_LAPACK=ON", "-DENABLE_LAPACK=OFF"),
        "mkl": ("-DENABLE_MKL=ON", "-DENABLE_MKL=OFF"),
        "png": ("-DENABLE_PNG=ON", "-DENABLE_PNG=OFF"),
        "python": ("-DENABLE_PYTHON=ON", "-DENABLE_PYTHON=OFF"),
        "sqlite": ("-DENABLE_SQLITE=ON", "-DENABLE_SQLITE=OFF"),
        "webp": ("-DENABLE_WEBP=ON", "-DENABLE_WEBP=OFF"),
    },
    url = "https://github.com/davisking/dlib/archive/refs/tags/v19.24.7.tar.gz",
    sha256 = "fb3213872b4755cbc75d88cdd3cf77555d353ac89bc105f7acb33bf665f4b2a7",
    deps = [],
    configure_args = [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DDLIB_NO_GUI_SUPPORT=OFF",
        "-DDLIB_USE_CUDA=OFF",
    ],
)
