load("@root//defs:package_defs.bzl", "cmake_package")

cmake_package(
    name = "libE57Format",
    version = "3.2.0",
    src_uri = "https://github.com/asmaloney/libE57Format/archive/refs/tags/v3.2.0.tar.gz",
    sha256 = "afe4de960ba486760702127d8f3dc537c9b5921af7cfb2a75177fe2f80956e89",
    description = "Library to read and write E57 files (3D point cloud data format)",
    homepage = "https://github.com/asmaloney/libE57Format",
    license = "BSL-1.0",
    deps = [
        "dev-libs//xerces-c:xerces-c",
    ],
    cmake_args = [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DE57_BUILD_SHARED=OFF",
        "-DE57_BUILD_TEST=OFF",
        "-DE57_VALIDATION_LEVEL=1",
        "-DE57_ENABLE_DIAGNOSTIC_OUTPUT=ON",
        "-DE57_RELEASE_LTO=OFF",
    ],
    visibility = ["PUBLIC"],
)
