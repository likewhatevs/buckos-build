load("//defs:package.bzl", "package")

# abseil-cpp - Google C++ Common Libraries (cmake build)
# USE flags: static-libs, test
# Default: none

package(
    build_rule = "cmake",
    name = "abseil-cpp",
    version = "20240116.2",
    use_configure = {
        "debug": ("-DCMAKE_BUILD_TYPE=Debug", "-DCMAKE_BUILD_TYPE=Release"),
        "test-helpers": ("-DENABLE_TEST_HELPERS=ON", "-DENABLE_TEST_HELPERS=OFF"),
    },
    url = "https://github.com/abseil/abseil-cpp/releases/download/20240116.2/abseil-cpp-20240116.2.tar.gz",
    sha256 = "733726b8c3a6d39a4120d7e45ea8b41a434cdacde401cba500f14236c49b39dc",
    description = "Abseil C++ Common Libraries",
    homepage = "https://abseil.io/",
    license = "Apache-2.0",
    configure_args = [
        "-DBUILD_SHARED_LIBS=ON",
        "-DABSL_BUILD_TESTING=OFF",
        "-DABSL_USE_EXTERNAL_GOOGLETEST=OFF",
        "-DCMAKE_CXX_STANDARD=17",
    ],
)
