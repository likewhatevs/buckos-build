load("//defs:package.bzl", "package")

package(
    build_rule = "autotools",
    name = "jemalloc",
    version = "5.3.0",
    url = "https://github.com/jemalloc/jemalloc/releases/download/5.3.0/jemalloc-5.3.0.tar.bz2",
    sha256 = "2db82d1e7119df3e71b7640219b6dfe84789bc0537983c3b7ac4f7189aecfeaa",
    description = "General-purpose scalable concurrent malloc implementation",
    homepage = "https://jemalloc.net/",
    license = "BSD-2-Clause",
    use_configure = {
        "debug": ("--enable-debug", "--disable-debug"),
        "lazy-lock": ("--enable-lazy-lock", "--disable-lazy-lock"),
        "prof": ("--enable-prof", "--disable-prof"),
        "static-libs": ("--enable-static", "--disable-static"),
        "stats": ("--enable-stats", "--disable-stats"),
        "xmalloc": ("--enable-xmalloc", "--disable-xmalloc"),
    },

)
